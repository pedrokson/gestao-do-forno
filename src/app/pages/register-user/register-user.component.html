<div class="container mt-4">
  <h2>Cadastro de Usuário</h2>

  <form (ngSubmit)="cadastrar(form)" #form="ngForm" class="mb-4">
    <div class="mb-3">
      <input
        [(ngModel)]="nome"
        name="nome"
        required
        class="form-control"
        placeholder="Nome"
        #nomeField="ngModel"
      />
      <div *ngIf="nomeField.invalid && nomeField.touched" class="alert alert-danger">
        Nome é obrigatório.        
      </div>
    </div>
    <div class="mb-3">
      <input
        [(ngModel)]="email"
        name="email"
        required
        type="email"
        class="form-control"
        placeholder="Email"
        #emailField="ngModel"
      />
      <div *ngIf="emailField.invalid && emailField.touched" class="alert alert-danger">
        <div *ngIf="emailField.errors?.['required']">Email é obrigatório.</div>
        <div *ngIf="emailField.errors?.['email']">Email inválido.</div>
      </div>
    </div>
    <div class="mb-3">
      <input
        [(ngModel)]="senha"
        name="senha"
        required
        type="password"
        class="form-control"
        placeholder="Senha"
      />
    </div>
    <div class="mb-3">
        <input
          [(ngModel)]="confirmaSenha"
          name="confirmarSenha"
          required
          type="password"
          class="form-control"
          placeholder="Confirmar Senha"
        />
      </div>

      <div *ngIf="erroSenha" class="alert alert-danger">
        {{ erroSenha }}
      </div>
    <button class="btn btn-success" type="submit" [disabled]="form.invalid">Cadastrar</button>
  </form>

  <div *ngIf="mensagem" class="mt-3 alert alert-info">
    {{ mensagem }}
  </div>
</div>
